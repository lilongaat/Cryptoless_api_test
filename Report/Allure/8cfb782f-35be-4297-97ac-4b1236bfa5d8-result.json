{"status": "broken", "statusDetails": {"message": "UnboundLocalError: local variable 'url_' referenced before assignment", "trace": "self = <test_blockheight_check.Test_block_height_check object at 0x10c0f8e50>, test_title = ''\nnetworkCode = 'GOERLI', gaps = 3\n\n    @allure.story(\"Block Height Check!\")\n    @allure.title('{test_title}')\n    @pytest.mark.parametrize('test_title,networkCode,gaps', test_data)\n    def test_custodial(self,test_title,networkCode,gaps):\n    \n        with allure.step(\"浏览器查询块高\"):\n            block_explore = Httpexplore.Block_explore.block_height(networkCode)\n            time_explore = Conf.Config.now_time()\n            if block_explore.status_code == 200:\n                if networkCode == \"BTC\":\n                    block_height = block_explore.json()[\"data\"][0][\"id\"]\n                elif networkCode == \"DOGE\":\n                    block_height = block_explore.json()\n                elif networkCode == \"ETH\":\n                    block_height = int(block_explore.json()[\"result\"],16)\n                elif networkCode == \"GOERLI\":\n                    block_height = int(block_explore.json()[\"result\"],16)\n                elif networkCode == \"BSC\":\n                    block_height = int(block_explore.json()[\"result\"])\n                elif networkCode == \"MATIC\":\n                    block_height = int(block_explore.json()[\"result\"])\n                elif networkCode == \"ATOM\":\n                    block_height = int(block_explore.json()[\"block\"][\"last_commit\"][\"height\"])\n                elif networkCode == \"IRIS\":\n                    block_height = int(block_explore.json()[\"block\"][\"last_commit\"][\"height\"])\n                elif networkCode == \"DOT\":\n                    block_height = block_explore.json()[\"data\"][\"blocks\"][0][\"block_num\"]\n                elif networkCode == \"CLV\":\n                    block_height = block_explore.json()[\"data\"][\"count\"]\n                else:\n                    raise Exception(\"networkCode No Support\")\n            else:\n                block_height = \"Serve Error \" + str(block_explore.status_code)\n    \n        logger.debug(block_height)\n    \n        with allure.step(\"Graphql查询块高\"):\n>           block_graphql = Graphql.Graphql.getLatestBlock(networkCode)\n\nTestcase/Test_NetworkCode/Test_block/test_blockheight_check.py:79: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nnetWorkcode = 'GOERLI'\n\n    @staticmethod\n    def getLatestBlock(netWorkcode:str):\n    \n        if netWorkcode == \"ETH\":\n            url_ = \"http://18.166.208.93\"\n            prot = \"14100\"\n        elif netWorkcode == \"BTC\":\n            if env_type == 0:\n                url_ = \"http://13.212.89.244\"\n                prot = \"4001\"\n            elif env_type == 1:\n                url_ = \"http://18.162.150.113\"\n                prot = \"14000\"\n        elif netWorkcode == \"BSC\":\n            url_ = \"http://18.166.208.93\"\n            prot = \"14101\"\n        elif netWorkcode == \"DOT\":\n            url_ = \"http://18.162.150.113\"\n            prot = \"14300\"\n        elif netWorkcode == \"CLV\":\n            if env_type == 0:\n                url_ = \"http://13.212.89.244\"\n                prot = \"4003\"\n            elif env_type == 1:\n                url_ = \"http://18.162.150.113\"\n                prot = \"14301\"\n        elif netWorkcode == \"ATOM\":\n            url_ = \"http://18.162.150.113\"\n            prot = \"14200\"\n        elif netWorkcode == \"IRIS\":\n            url_ = \"http://18.162.150.113\"\n            prot = \"14201\"\n        elif netWorkcode == \"DOGE\":\n            url_ = \"http://18.162.150.113\"\n            prot = \"14003\"\n        elif netWorkcode == \"LTC\":\n            url_ = \"http://18.162.150.113\"\n            prot = \"14002\"\n        elif netWorkcode == \"MATIC\":\n            url_ = \"http://18.166.208.93\"\n            prot = \"14102\"\n    \n>       url = url_ + \":\" + prot+ \"/graphql/\"\nE       UnboundLocalError: local variable 'url_' referenced before assignment\n\nCommon/Graphql.py:106: UnboundLocalError"}, "steps": [{"name": "浏览器查询块高", "status": "passed", "start": 1673520172219, "stop": 1673520172596}, {"name": "Graphql查询块高", "status": "broken", "statusDetails": {"message": "UnboundLocalError: local variable 'url_' referenced before assignment\n", "trace": "  File \"/Users/lilong/Documents/Test_Api/Testcase/Test_NetworkCode/Test_block/test_blockheight_check.py\", line 79, in test_custodial\n    block_graphql = Graphql.Graphql.getLatestBlock(networkCode)\n  File \"/Users/lilong/Documents/Test_Api/Common/Graphql.py\", line 106, in getLatestBlock\n    url = url_ + \":\" + prot+ \"/graphql/\"\n"}, "start": 1673520172596, "stop": 1673520172596}], "attachments": [{"name": "log", "source": "5b6bc667-098c-4a16-98d1-1927cbae176f-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "test_title", "value": "''"}, {"name": "networkCode", "value": "'GOERLI'"}, {"name": "gaps", "value": "3"}], "start": 1673520172219, "stop": 1673520172597, "uuid": "47ce4112-d0dc-44d3-a136-63e579406de6", "historyId": "e50320c33e4fe9ece23523c9603e9889", "testCaseId": "d4b9d66082e3449859d4337f913a04f9", "fullName": "Testcase.Test_NetworkCode.Test_block.test_blockheight_check.Test_block_height_check#test_custodial", "labels": [{"name": "story", "value": "Block Height Check!"}, {"name": "feature", "value": "Block Height!"}, {"name": "parentSuite", "value": "Testcase.Test_NetworkCode.Test_block"}, {"name": "suite", "value": "test_blockheight_check"}, {"name": "subSuite", "value": "Test_block_height_check"}, {"name": "host", "value": "lilongdeMacBook-Pro.local"}, {"name": "thread", "value": "1065-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "Testcase.Test_NetworkCode.Test_block.test_blockheight_check"}]}